<!--
  BSD 3-Clause License
  Copyright (c) 2022, Automatic Controls Equipment Systems, Inc.
  Contributors: Cameron Vogt (@cvogt729)
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      Log Viewer
    </title>
    <link rel="stylesheet" type="text/css" href="../../../../../root/webapp/main.css"/>
  </head>
  <body>
    <div style="text-align:center">
      <h1 id="mainTitle">Log Viewer</h1>
      <div class="stickyBar">
        <a class="e nav" href="__PREFIX__/TableEditor?table=servers">Server List</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=tunnels">SSH Tunnels</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=operator_whitelist">Operator Whitelist</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=operator_blacklist">Operator Blacklist</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=operator_blacklist_exceptions">Operator Blacklist Exceptions</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=addon_whitelist">Add-On Whitelist</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=addon_blacklist">Add-On Blacklist</a>
        <br><br>
        <a class="e nav" href="__PREFIX__/index">Connection Parameters</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=settings">Settings</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=pending_commands">Pending Commands</a>
        <a class="e nav" href="__PREFIX__/TableEditor?table=trend_mappings">Trend Mappings</a>
        <a class="e nav" href="__PREFIX__/FindTrends">Find Trends</a>
        <a class="e nav" href="__PREFIX__/LocalOperators">View Local Operators</a>
        <a class="e nav" href="__DOCUMENTATION__" target="_blank">Documentation</a>
        <br><br>
      </div>
      <br>
      <table>
        <thead><tr>
          <th>Timestamp</th>
          <th>Message</th>
        </tr></thead>
        <tbody id="tableBody"></tbody>
      </table>
    </div>
    <script>
      const data = __LOGS__;
      const body = document.getElementById("tableBody");
      for (const r of data){
        const tr = document.createElement("TR");
        const timeTD = document.createElement("TD");
        const msgTD = document.createElement("TD");
        timeTD.className = "e c";
        msgTD.className = "e";
        timeTD.innerText = r[0];
        msgTD.innerText = r[2];
        msgTD.style.color = r[1]=="true"?"red":"white";
        msgTD.style.textAlign = "left";
        msgTD.style.fontFamily = "\"Courier New\", monospace";
        msgTD.style.whiteSpace = "pre";
        body.appendChild(timeTD);
        body.appendChild(msgTD);
        body.appendChild(tr);
      }
    </script>
  </body>
</html>